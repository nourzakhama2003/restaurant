<!-- Professional Top Strip Component -->
<div class="topstrip-container">
    <div class="topstrip-content">
        <!-- Mobile Menu Toggle (delegates to sidenav) -->
        <div class="md:hidden relative ">
            <div *ngIf="!visible;else navItems">
                <button matMiniFab aria-label="Exemple de bouton d'icône de menu">
                    <mat-icon (click)="visible=!visible">menu</mat-icon>
                </button>""
            </div>
            <ng-template #navItems>
                <div class="fixed left-4 top-[56px] min-w-[150px] w-[300px] bg-white rounded-xl shadow-2xl p-3 flex flex-col gap-2 border border-gray-200 animate-fade-in z-50">
                    <div class="flex justify-end mb-2">
                        <button (click)="visible = false" class="hover:bg-gray-100 rounded-full p-1 transition">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="absolute lucide top-1 right-0 lucide-x-icon text-gray-700 tranform duration-300  hover:rotate-90 ">
                                <path d="M18 6 6 18"/>
                                <path d="m6 6 12 12"/>
                            </svg>
                        </button>
                    </div>
                    <a routerLink="/dashboard" routerLinkActive="active" (click)="visible = false" class="flex items-center gap-3 px-3 py-2 rounded-lg text-gray-800 hover:bg-blue-50 hover:text-blue-700 font-medium transition">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chart-no-axes-combined"><path d="M12 16v5"/><path d="M16 14v7"/><path d="M20 10v11"/><path d="m22 3-8.646 8.646a.5.5 0 0 1-.708 0L9.354 8.354a.5.5 0 0 0-.707 0L2 15"/><path d="M4 18v3"/><path d="M8 14v7"/></svg>                        Tableau de bord
                    </a>
                    <a (click)="visible = false" routerLink="/restaurant" routerLinkActive="active" class="flex items-center gap-3 px-3 py-2 rounded-lg text-gray-800 hover:bg-blue-50 hover:text-blue-700 font-medium transition">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-utensils-crossed"><path d="m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8"/><path d="M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7"/><path d="m2.1 21.8 6.4-6.3"/><path d="m19 5-7 7"/></svg>                        Restaurants
                    </a>
                    <a (click)="visible = false" routerLink="/group-orders" routerLinkActive="active" [routerLinkActiveOptions]="{ exact: true }" class="flex items-center gap-3 px-3 py-2 rounded-lg text-gray-800 hover:bg-blue-50 hover:text-blue-700 font-medium transition">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-notebook-pen"><path d="M13.4 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-7.4"/><path d="M2 6h4"/><path d="M2 10h4"/><path d="M2 14h4"/><path d="M2 18h4"/><path d="M21.378 5.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z"/></svg>                        Commandes groupées
                    </a>
                    <a (click)="visible = false" routerLink="/group-orders/my-orders" routerLinkActive="active" [routerLinkActiveOptions]="{ exact: true }" class="flex items-center gap-3 px-3 py-2 rounded-lg text-gray-800 hover:bg-blue-50 hover:text-blue-700 font-medium transition">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" stroke-linejoin="round" stroke-linecap="round" viewBox="0 0 24 24" stroke-width="2" fill="none" stroke="currentColor" class="icon">
                            <circle r="1" cy="21" cx="9"></circle>
                            <circle r="1" cy="21" cx="20"></circle>
                            <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>
                        </svg> Mes commandes
                    </a>
                    <a (click)="visible = false" routerLink="/all-menu-items" routerLinkActive="active" class="flex items-center gap-3 px-3 py-2 rounded-lg text-gray-800 hover:bg-blue-50 hover:text-blue-700 font-medium transition">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-list"><line x1="8" y1="6" x2="21" y2="6"/><line x1="8" y1="12" x2="21" y2="12"/><line x1="8" y1="18" x2="21" y2="18"/><line x1="3" y1="6" x2="3.01" y2="6"/><line x1="3" y1="12" x2="3.01" y2="12"/><line x1="3" y1="18" x2="3.01" y2="18"/></svg>                        Tous les plats
                    </a>
                    <a (click)="visible = false" routerLink="/categories" routerLinkActive="active" class="flex items-center gap-3 px-3 py-2 rounded-lg text-gray-800 hover:bg-blue-50 hover:text-blue-700 font-medium transition">
                        <mat-icon>category</mat-icon> Catégories
                    </a>
                </div>
            </ng-template>
        </div>

        <!-- Desktop Navigation -->
        <div class="desktop-nav-section" *ngIf="isOver">
            <!-- Logo Section -->
            <div class="logo-section">
                <a class="logo-link" routerLink="/dashboard">
                    <div class="logo-container">
                        <img src="/assets/images/logos/logo-wrappixel.svg" alt="Logo" class="logo-image">
                    </div>
                </a>
            </div>

            <!-- Navigation Links -->
            <div class="nav-links-section">
                <div class="nav-links-container">
                    <a class="nav-link" routerLink="/dashboard" routerLinkActive="active">
                        <span class="nav-link-text">Dashboard</span>
                    </a>
                    <a class="nav-link" routerLink="/restaurant" routerLinkActive="active">
                        <span class="nav-link-text">Restaurants</span>
                    </a>
                    <a class="nav-link" routerLink="/group-orders" routerLinkActive="active" [routerLinkActiveOptions]="{ exact: true }">
                        <span class="nav-link-text">Commandes groupées</span>
                    </a>
                    <a class="nav-link" routerLink="/group-orders/my-orders" routerLinkActive="active" [routerLinkActiveOptions]="{ exact: true }">
                        <span class="nav-link-text">Mes commandes</span>
                    </a>
                    <a class="nav-link" routerLink="/all-menu-items" routerLinkActive="active">
                        <span class="nav-link-text">Plats</span>
                    </a>
                    <a class="nav-link" routerLink="/categories" routerLinkActive="active">
                        <span class="nav-link-text">Catégories</span>
                    </a>
                </div>
            </div>
        </div>

        <!-- User Profile Section -->
        <div class="user-profile-section">
            <button mat-mini-fab [matMenuTriggerFor]="profilemenu" class="profile-btn" aria-label="Profil utilisateur">
                <div class="profile-avatar">
                    <img src="/assets/images/profile/user-1.jpg" alt="Profile" class="profile-image">
                </div>
            </button>
            <mat-menu #profilemenu="matMenu" class="profile-dropdown">
                <div class="dropdown-header">
                    <div class="user-info">
                        <img src="/assets/images/profile/user-1.jpg" alt="Profile" class="user-avatar">
                        <div class="user-details">
                            <h4 class="user-name">{{userName}}</h4>
                            <p class="user-email">{{userEmail}}</p>
                        </div>
                    </div>
                </div>
                <div class="dropdown-items">
                    <button mat-menu-item class="dropdown-item">
                        <span class="item-text">Mon profil</span>
                    </button>
                    <button mat-menu-item class="dropdown-item">
                        <span class="item-text">Mon compte</span>
                    </button>
                    <button mat-menu-item class="dropdown-item">
                        <span class="item-text">Mes tâches</span>
                    </button>
                </div>
                <div class="dropdown-footer">
                    <button mat-stroked-button class="logout-btn" (click)="logout()">
                        <span>Déconnexion</span>
                    </button>
                </div>
            </mat-menu>
        </div>
    </div>
</div>